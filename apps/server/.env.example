# ============================================================================
# VECTRYS BACKEND - Environment Variables Template
# ============================================================================
# IMPORTANT: Ne JAMAIS commiter le fichier .env réel !
# Copier ce fichier: cp .env.example .env
# Puis remplir avec vos vraies valeurs
# ============================================================================

# ===================================
# APPLICATION
# ===================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173
TZ=Europe/Paris

# ===================================
# DATABASE
# ===================================
DATABASE_URL="postgresql://USERNAME@localhost:5432/vectrys_lingua"

# ===================================
# JWT
# ===================================
JWT_SECRET=REMPLACER_PAR_UNE_CLE_SECRETE_LONGUE
JWT_REFRESH_SECRET=REMPLACER_PAR_UNE_AUTRE_CLE_SECRETE
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===================================
# API KEYS
# ===================================
ANTHROPIC_API_KEY=sk-ant-VOTRE_CLE_ICI
OPENAI_API_KEY=sk-VOTRE_CLE_OPENAI
ELEVENLABS_API_KEY=VOTRE_CLE_ICI

# ===================================
# REDIS (optionnel - pour cache)
# ===================================
REDIS_URL=redis://localhost:6379

# ===================================
# TWILIO CONFIGURATION
# ===================================
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+33XXXXXXXXX
TWILIO_MESSAGING_SERVICE_SID=
TWILIO_WEBHOOK_AUTH_TOKEN=

# ===================================
# SMS CONFIG
# ===================================
SMS_DAILY_LIMIT=500
SMS_ALERT_THRESHOLD=5

# ===================================
# FATE CONFIGURATION
# ===================================
FATE_DEFAULT_PROFILE=default
FATE_LLM_ENABLED=false
# Passer à true en Phase 2 pour activer détection LLM

# ===================================
# SÉCURITÉ
# ===================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===================================
# RGPD & PRIVACY
# ===================================
DATA_RETENTION_DAYS=90
ENABLE_ANALYTICS=false

# ===================================
# DATA ENGINE v3.0 (INTERNE UNIQUEMENT)
# ===================================
CLAUDE_MODEL=claude-sonnet-4-5-20250929
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxx
ANONYMIZATION_HMAC_SECRET=your-very-long-secret-key

# ─── Sécurité Data Engine ───
# Optionnel : whitelist IPs autorisées (vide = RBAC seul)
# Format : IPs séparées par virgule. Laisser vide en dev.
INTERNAL_ALLOWED_IPS=

# ===================================
# GOOGLE MAPS (géolocalisation agents terrain)
# ===================================
# Obtenir sur https://console.cloud.google.com/apis/credentials
GOOGLE_MAPS_API_KEY=VOTRE_CLE_GOOGLE_MAPS

# ===================================
# GOOGLE OAUTH 2.0 (login social)
# ===================================
# Obtenir sur https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=VOTRE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=VOTRE_CLIENT_SECRET
GOOGLE_REDIRECT_URI=http://localhost:5173/auth/google/callback

# ===================================
# OPENWEATHERMAP (météo missions terrain)
# ===================================
# Obtenir sur https://home.openweathermap.org/api_keys
OPENWEATHER_API_KEY=VOTRE_CLE_OPENWEATHER

# ===================================
# FIREBASE (notifications push, auth)
# ===================================
# Service account : télécharger depuis Firebase Console > Paramètres > Comptes de service
FIREBASE_PROJECT_ID=votre-project-id
# Dev local : chemin vers le fichier JSON
FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-sa.json
# Production (Railway) : JSON stringifié du service account
# FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"...","private_key":"...",...}
# Générer dans Firebase Console > Cloud Messaging > Web Push certificates
VAPID_PUBLIC_KEY=VOTRE_CLE_VAPID_PUBLIQUE

# ===================================
# SENDGRID (emails transactionnels)
# ===================================
# Obtenir sur https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxx
SENDGRID_FROM_EMAIL=noreply@vectrys.com

# ===================================
# APPLE SIGN IN (auth guest portal)
# ===================================
APPLE_CLIENT_ID=com.vectrys.guestportal
